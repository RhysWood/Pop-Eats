<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="icon" href="/images/hamburger-solid.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee&family=Montserrat&family=Roboto&family=Sacramento&family=Source+Sans+Pro:wght@600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/main.css" type="text/css"/>
    <link rel="stylesheet" href="/styles/update-menu.css" type="text/css"/>


    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- APP JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="module" src="/scripts/user.js"></script>

    <title>Update Menu</title>
  </head>


  <body>
    <%- include('partials/_header') %>
    <div class="menu-container">
      <div id="menu-title">
        <h1>UPDATE MENU</h1>
      </div>
      <div id="add-item">
        <table class="table">
          <h4>Add New Item:</h4>
          <tbody>
            <form class="form-inline" action="/update-menu/add/" method="POST">
              <div class="form-group mb-2" id="qty-input">
            <tr>
              <td>
              <input
              class="form-control"

              type="text"
              name="title"
              placeholder="Name: "
              min="0"
            />
          </td>
          <td>
            <input
            class="form-control"

            type="text"
            name="description"
            placeholder="Item Description: "
            min="0"
            />
          </td>
          <td>
            <input
            class="form-control"
            style="width: 7em"
            type="number"
            name="rating"
            placeholder="Rating: "
            min="0"
            max="5"
            />
          </td>
          <td>
            <input
            class="form-control"
            style="width: 5em"
            type="float"
            name="price"
            placeholder="Price: "
            min="0"
            />
          </td>
          <td>
            <input
            class="form-control"
            style="width: 11em"
            type="number"
            name="time"
            placeholder="Time to Complete: "
            min="0"
            />
          </td>
          <td>
            <input
            class="form-control"
            type="url"
            name="img_url"
            placeholder="Enter the url of item image: "
            min="0"
            />
          </td>
          <td>
            <input
            class="form-control"
            type="text"
            name="img_alt"
            placeholder="Img Alt Text: "
            min="0"
            />
          </td>
          <td>
            <button class="add-btn" type="submit">
              Add
            </button>
          </td>

            </tr>
          </div>
          </form>
          </tbody>
        </table>
      </div>
      <div class="menu-item-container">
        <table class="table">
          <!-- <div id="menu-title">
                <h1>MENU</h1>
              </div> -->
          <tbody>
            <!-- <div class="menu-container"> -->
            <% for(let item in items) { %>
            <tr class="table-row">
              <td>
                <img src = "<%= items[item]['img_url'] %>" class="rounded
                mx-auto d-block" alt = <%= items[item]['img_alt'] %>>
              </td>
              <td style="font-size: large">
                <b><%= items[item]['title'] %></b> <br /><br />
                <%= items[item]['description'] %>
              </td>
              <td>
                Rating: <br />
                <%= items[item]['rating'] %> / 5
              </td>
              <td id="whatever">
                Price:<br />$<span class="price"
                  ><%= items[item]['price'] %></span
                >
              </td>
              <td>
                Availble On Menu:<br /><span class="available"
                  ><%= items[item]['active'] %></span
                >
              </td>
              <td>
                Time to Make (Minutes):<br /><span class="available"
                  ><%= items[item]['time'] %></span
                >
              </td>

              <!-- </div> -->
              <!-- </div> -->
              <!-- </td> -->
              <td id="total"></td>
              <!-- </div> -->
            </tr>
                <form class="form-inline" action="/update-menu/update/<%=items[item]['id'] %>" method="POST">
                  <div class="form-group mb-2" id="qty-input">
                <tr>
                  <td>
                    Name:
                  <input
                  class="form-control"
                  type="text"
                  name="title"
                  placeholder="<%=items[item]['title'] %>"
                  min="0"
                />
              </td>
              <td>
                Description:
                <input
                class="form-control"
                type="text"
                name="description"
                placeholder="<%=items[item]['description'] %>"
                min="0"
                />
              </td>
              <td>
                Rating:
                <input
                class="form-control"

                type="number"
                name="rating"
                placeholder="<%=items[item]['rating'] %> "
                min="0"
                max="5"
                />
              </td>
              <td>
                Price:
                <input
                class="form-control"

                type="float"
                name="price"
                placeholder="<%=items[item]['price'] %> "
                min="0"
                />
              </td>
              <td>
                Time:
                <input
                class="form-control"

                type="number"
                name="time"
                placeholder="<%=items[item]['time'] %> "
                min="0"
                />
              </td>
              <td>
                Image URL:
                <input
                class="form-control"
                style="width: 15em"
                type="url"
                name="img_url"
                placeholder="<%=items[item]['img_url'] %>"
                min="0"
                />
              </td>
              <td>
                Alt:
                <input
                class="form-control"
                type="text"
                style="width: 5em"
                name="img_alt"
                placeholder="<%=items[item]['img_alt'] %>"
                min="0"
                />
              </td>
              <tr>
              <td>
                <button type="submit" class="update-btn">
                  Submit Changes
                </button>
              </td>
            </div>
          </form>
              <td>
                <form class="form-inline" action="/update-menu/toggle/<%=items[item]['id'] %>" method="POST">
                  <button type="submit" class="remove-btn">
                    Toggle Menu Availability
                  </button>
                </form>
              </td>
            </tr>
                </tr>

            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </body>
  <%- include('partials/_footer') %>
</html>
